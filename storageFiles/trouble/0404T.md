### 0404T  
---  

- 유니티 멈춤
 - while(true) 중단 조건문이 잘못된 것 같다  
![image](https://github.com/s8st/20240320FinalProject/assets/153998744/56f15ff9-3115-4281-b15c-44ed06b2f912)


```cpp
private  void SpawnMonster()
{
    //while (true)

    while (true)
    {
        if (currentSpawnCount == 0) // 소환되어 있는 객체들의 갯수: 0이라면 처음이거나 다 잡았거나
        {




            GameObject enemy = Instantiate(enemyPrefebs[6], spawnPositionsRoot.position, Quaternion.identity);
            enemy.GetComponent<HealthSystem>().OnDeath += OnEnemyDeath;
            enemy.GetComponent<HealthSystem>().OnDeath += CreateReward;

            //몬스터를 생성할 때 지워줘야
            enemy.GetComponent<CharacterStatsHandler>().AddStatModifier(defaultStats);
            enemy.GetComponent<CharacterStatsHandler>().AddStatModifier(rangedStats);

            currentSpawnCount++;
            //yield return new WaitForSeconds(spawnInterval);

        }
    }
}
```
- 문제점
 - 1번만 몬스터 발생 ---> 코루틴에 while(true)
 - 무한 반복 ---> yield return new WaitForSeconds(spawnInterval); 



 ![image](https://github.com/s8st/20240320FinalProject/assets/153998744/fcd59047-7f0f-401d-8df5-ca80adfc7710)

- 1번 포지션에서만 몬스터가 발생
  - 해결책은 ??
  - for을 삭제했더니 1번만 몬스터가 발생했던 문제

```cpp
 for (int i = 0; i < waveSpawnPosCount; i++)
 {
     int posIdx = Random.Range(0, spawnPostions.Count);
     for (int j = 0; j < waveSpawnCount; j++)
     {
         int prefabIdx = Random.Range(0, enemyPrefebs.Count);
         GameObject enemy = Instantiate(enemyPrefebs[prefabIdx], spawnPostions[posIdx].position, Quaternion.identity);
         enemy.GetComponent<HealthSystem>().OnDeath += OnEnemyDeath;

         //몬스터를 생성할 때 지워줘야
         enemy.GetComponent<CharacterStatsHandler>().AddStatModifier(defaultStats);
         enemy.GetComponent<CharacterStatsHandler>().AddStatModifier(rangedStats);

         currentSpawnCount++;
         yield return new WaitForSeconds(spawnInterval);
     }
 }

```
